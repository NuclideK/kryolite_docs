openapi: 3.0.1
info:
  title: Kryolite API
  description: https://kryolite.io/
  version: '0.1'
servers:
  - url: 'http://testnet-1.kryolite.io'
  - url: 'http://testnet-2.kryolite.io'
tags:
  - name: ledger
    description:
  - name: contract
    description:
  - name: misc
    description: Miscellaneous

  - name: to-do
    description: Methods that are not yet documented
paths:
  /richlist:
    get:
      tags:
        - misc
      description: Returns up to 25 people that hold the most balance
      responses:
        '200':
          description: Request success
          content:
            application/json; charset=utf-8:
              schema:
                type: object
              example: [{"id":"ae2152cf-4263-4f85-b361-da0920bfac1e","address":{"buffer":"oQDAOJC8e8IxqWQG5EWPHoPOmzR6sp6bP/M="},"balance":5407500000000,"pending":0},{"id":"70fa53c7-f7a3-453b-ba37-3d4c5e4daf43","address":{"buffer":"oQAPcxSFU6Bm/hyYPsQAWndfaqQ8V6R/YHM="},"balance":2250000000,"pending":0}]
  '/ledger/{address}':
    get:
      tags:
        - ledger
      description: Returns a LedgerWallet
      responses:
        '200':
          description: Wallet exists and has data
          content:
            application/json; charset=utf-8:
              schema:
                type: object
                example: {"id":"70fa53c7-f7a3-453b-ba37-3d4c5e4daf43","address":{"buffer":"oQAPcxSFU6Bm/hyYPsQAWndfaqQ8V6R/YHM="},"balance":2250000000,"pending":0}
        '204':
          description: Wallet has no data
        '400':
          description: Wallet does not exist
    parameters:
      - in: path
        name: address
        required: true
        schema:
          type: string
  '/ledger/{address}/balance':
    get:
      tags:
        - ledger
      description: Returns the balance of a wallet
      responses:
        '200':
          description: 'Wallet found, Balance of the wallet'
          content:
            application/json; charset=utf-8:
              schema:
                type: number
              example: 0
        '400':
          description: Wallet does not exist
    parameters:
      - in: path
        name: address
        required: true
        schema:
          type: string
  '/ledger/{address}/transactions':
    get:
      tags:
        - ledger
      description: Returns transaction history of wallet
      responses:
        '200':
          description: Wallet exists
          content:
            application/json; charset=utf-8:
              schema:
                type: object
              examples:
                no transtaction:
                  value: []
                has transactions:
                  value: [{"id":"315c34ba-e532-4743-a76b-089174465138","transactionType":1,"publicKey":null,"to":{"buffer":"oQAhaJFzULj5zNndaaQJyqV8d62eXVOyh0o="},"value":750000000,"maxFee":0,"data":null,"nonce":1198781660,"signature":null,"effects":[],"hash":{"buffer":"V2IxcG0XHygekABXCGA5Ouv6DOmjSMM7rTJNFV8gKq4="},"from":null},{"id":"37cbfa65-79df-4494-aa36-5d2bcc65cbc7","transactionType":1,"publicKey":null,"to":{"buffer":"oQAhaJFzULj5zNndaaQJyqV8d62eXVOyh0o="},"value":750000000,"maxFee":0,"data":null,"nonce":970975531,"signature":null,"effects":[],"hash":{"buffer":"lbXqdmDUDgd4xo0cVPZDF85sHMwycxRuXR3XUQqnXxg="},"from":null}]
        '400':
          description: Invalid address
    parameters:
      - in: path
        name: address
        required: true
        schema:
          type: string
  '/contract/{address}':
    get:
      tags:
        - to-do
      description: Gets a contract
      responses:
        '200':
          description: TODO
        '204':
          description: No contract found
        '400':
            description: Invalid address
    parameters:
      - in: path
        name: address
        required: true
        schema:
          type: string
  '/contract/{address}/state':
      get:
        tags:
          - to-do
        description: Gets the contract state
        responses:
          '200':
            description: Success
            content:
              application/json; charset=utf-8:
                schema:
                  type: object
                examples:
                  contract:
                    value: "TODO"
                  no contract:
                    description: Content lenght 0
                    value: null
          '400':
            description: Invalid address
      parameters:
        - in: path
          name: address
          required: true
          schema:
            type: string
  '/tx/{hash}':
    get:
      tags:
        - misc
      description: Gets a transaction with Sha256-hash
      responses:
        '200':
          description: Transaction exists
          content:
            application/json; charset=utf-8:
              schema:
                type: object
                example: {"id":"2956a6b3-b7bc-4c8f-8a26-dc7361ea7d27","transactionType":1,"publicKey":null,"to":{"buffer":"oQAPcxSFU6Bm/hyYPsQAWndfaqQ8V6R/YHM="},"value":750000000,"maxFee":0,"data":null,"nonce":1994864687,"signature":null,"effects":[],"hash":{"buffer":"Mh3Zn4wRn+5jxFdqWzeAjFwERwHW2I7AMlLa8qi38kU="},"from":null}
        '500':
          description: Invalid hash
    parameters:
      - in: path
        name: hash
        required: true
        schema:
          type: string
